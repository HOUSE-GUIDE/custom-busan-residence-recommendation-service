<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link rel="stylesheet" href="/web/main.css" />
    <title>Main page</title>
  </head>

  <body>
    <form action="/recommend" method="post">
      <div class="floating-window">
        <!-- Îß•Î∂Å ÎîîÏûêÏù∏ ÏãúÏûë -->
        <div class="window-header">
          <div class="window-title">easymoveüòÄ</div>
          <div class="window-controls">
            <div class="window-minimize"></div>
            <div class="window-maximize"></div>
            <div class="window-close"></div>
          </div>
        </div>
        <!-- Îß•Î∂Å ÎîîÏûêÏù∏ ÎÅù -->

        <!-- Ïπ¥ÌÖåÍ≥†Î¶¨ ÏßàÎ¨∏ÏßÄ ÏãúÏûë -->
        <div class="category-all">
          <!-- Ïπ¥ÌÖåÍ≥†Î¶¨ ÏÑ†Ï†ï ÏãúÏûë -->
          <div class="category-selection">
            <button class="category-button" type="button" onclick="showCategory('traffic')">
              <i class="fa-solid fa-train-subway"></i>&nbsp;&nbsp;Traffic
            </button>
            <button class="category-button" type="button" onclick="showCategory('education')">
              <i class="fa-solid fa-school"></i>&nbsp;&nbsp;Education
            </button>
            <button class="category-button" type="button" onclick="showCategory('nature')">
              <i class="fa-solid fa-tree"></i>&nbsp;&nbsp;Nature
            </button>
            <button class="category-button" type="button" onclick="showCategory('shopping')">
              <i class="fa-solid fa-cart-shopping"></i>&nbsp;&nbsp;Shopping
            </button>
            <button class="category-button" type="button" onclick="showCategory('society')">
              <i class="fa-solid fa-users"></i>&nbsp;&nbsp;Society
            </button>
          </div>
          <!-- Ïπ¥ÌÖåÍ≥†Î¶¨ ÏÑ†Ï†ï ÎÅù -->

          <!-- Ïπ¥ÌÖåÍ≥†Î¶¨ ÏßàÎ¨∏ ÏãúÏûë -->
          <div class="category-question">
            <div class="initial-message">
              <i class="fa-regular fa-hand-point-left"></i>&nbsp;Ï¢åÏ∏°Ïùò Ïπ¥ÌÖåÍ≥†Î¶¨ Î≤ÑÌäºÏùÑ ÎàåÎü¨Ï£ºÏÑ∏Ïöî !
            </div>
            <!-- ÍµêÌÜµ Ïπ¥ÌÖåÍ≥†Î¶¨ ÏûÖÎ†• ÏãúÏûë -->
            <div id="traffic" class="category-container hidden">
              <div class="category-title">ÍµêÌÜµ</div>

              <div class="question-box">
                <div class="question-title">Ï†ïÏãúÏÑ±ÏùÑ Ï§ëÏöîÌïòÍ≤å ÏÉùÍ∞ÅÌïòÏãúÎÇòÏöî?</div>
                <div class="radio-buttons">
                  <label class="radio-button">
                    <input type="radio" name="traffic4" value="1" />
                    <span class="radio-button__checkmark"></span>
                  </label>
                  <label class="radio-button">
                    <input type="radio" name="traffic4" value="2" />
                    <span class="radio-button__checkmark"></span>
                  </label>
                  <label class="radio-button">
                    <input type="radio" name="traffic4" value="3" />
                    <span class="radio-button__checkmark"></span>
                  </label>
                  <label class="radio-button">
                    <input type="radio" name="traffic4" value="4" />
                    <span class="radio-button__checkmark"></span>
                  </label>
                  <label class="radio-button">
                    <input type="radio" name="traffic4" value="5" />
                    <span class="radio-button__checkmark"></span>
                  </label>
                </div>
              </div>
              <input id="submit" class="hidden" type="submit" value="Ï†úÏ∂ú" />
            </div>
            <!-- ÍµêÌÜµ Ïπ¥ÌÖåÍ≥†Î¶¨ ÏûÖÎ†• ÎÅù -->

            <!-- ÍµêÏú° Ïπ¥ÌÖåÍ≥†Î¶¨ ÏûÖÎ†• ÏãúÏûë -->
            <div id="education" class="category-container hidden">
              <div class="category-title">ÍµêÏú°</div>

              <div class="question-box">
                <div class="question-title">Ïñ¥Î¶∞Ïù¥Ïßë Îì±ÌïòÏõêÏùÑ ÏßÅÏ†ë ÌïòÍ≥†Ïã∂ÏúºÏã†Í∞ÄÏöî?</div>
                <div class="radio-buttons">
                  <label class="radio-button">
                    <input type="radio" name="education3" value="1" />
                    <span class="radio-button__checkmark"></span>
                  </label>
                  <label class="radio-button">
                    <input type="radio" name="education3" value="2" />
                    <span class="radio-button__checkmark"></span>
                  </label>
                  <label class="radio-button">
                    <input type="radio" name="education3" value="3" />
                    <span class="radio-button__checkmark"></span>
                  </label>
                  <label class="radio-button">
                    <input type="radio" name="education3" value="4" />
                    <span class="radio-button__checkmark"></span>
                  </label>
                  <label class="radio-button">
                    <input type="radio" name="education3" value="5" />
                    <span class="radio-button__checkmark"></span>
                  </label>
                </div>
              </div>
              <input id="submit" class="hidden" type="submit" value="Ï†úÏ∂ú" />
            </div>
            <!-- ÍµêÏú° Ïπ¥ÌÖåÍ≥†Î¶¨ ÏûÖÎ†• ÎÅù -->

            <!-- ÏûêÏó∞ Ïπ¥ÌÖåÍ≥†Î¶¨ ÏûÖÎ†• ÏãúÏûë -->
            <div id="nature" class="category-container hidden">
              <div class="category-title">ÏûêÏó∞</div>

              <div class="question-box">
                <div class="question-title">ÎÇòÎäî Î∞îÎã§Í∞Ä Ï¢ãÎã§</div>
                <div class="radio-buttons">
                  <label class="radio-button">
                    <input type="radio" name="nature5" value="1" />
                    <span class="radio-button__checkmark"></span>
                  </label>
                  <label class="radio-button">
                    <input type="radio" name="nature5" value="2" />
                    <span class="radio-button__checkmark"></span>
                  </label>
                  <label class="radio-button">
                    <input type="radio" name="nature5" value="3" />
                    <span class="radio-button__checkmark"></span>
                  </label>
                  <label class="radio-button">
                    <input type="radio" name="nature5" value="4" />
                    <span class="radio-button__checkmark"></span>
                  </label>
                  <label class="radio-button">
                    <input type="radio" name="nature5" value="5" />
                    <span class="radio-button__checkmark"></span>
                  </label>
                </div>
              </div>
              <input id="submit" class="hidden" type="submit" value="Ï†úÏ∂ú" />
            </div>
            <!-- ÏûêÏó∞ Ïπ¥ÌÖåÍ≥†Î¶¨ ÏûÖÎ†• ÎÅù -->

            <!-- ÏáºÌïë Ïπ¥ÌÖåÍ≥†Î¶¨ ÏûÖÎ†• ÏãúÏûë -->
            <div id="shopping" class="category-container hidden">
              <div class="category-title">ÏáºÌïë</div>

              <div class="question-box">
                <div class="question-title">Ïû•ÏùÑ Î≥º Îïå Ïò®ÎùºÏù∏Î≥¥Îã® Ïò§ÌîÑÎùºÏù∏ÏùÑ Ïù¥Ïö©ÌïòÏãúÎÇòÏöî?</div>
                <div class="radio-buttons">
                  <label class="radio-button">
                    <input type="radio" name="shopping3" value="1" />
                    <span class="radio-button__checkmark"></span>
                  </label>
                  <label class="radio-button">
                    <input type="radio" name="shopping3" value="2" />
                    <span class="radio-button__checkmark"></span>
                  </label>
                  <label class="radio-button">
                    <input type="radio" name="shopping3" value="3" />
                    <span class="radio-button__checkmark"></span>
                  </label>
                  <label class="radio-button">
                    <input type="radio" name="shopping3" value="4" />
                    <span class="radio-button__checkmark"></span>
                  </label>
                  <label class="radio-button">
                    <input type="radio" name="shopping3" value="5" />
                    <span class="radio-button__checkmark"></span>
                  </label>
                </div>
              </div>
              <input id="submit" class="hidden" type="submit" value="Ï†úÏ∂ú" />
            </div>
            <!-- ÏáºÌïë Ïπ¥ÌÖåÍ≥†Î¶¨ ÏûÖÎ†• ÎÅù -->

            <!-- ÏÇ¨Ìöå Ïπ¥ÌÖåÍ≥†Î¶¨ ÏûÖÎ†• ÏãúÏûë -->
            <div id="society" class="category-container hidden">
              <div class="category-title">ÏÇ¨Ìöå</div>

              <div class="question-box">
                <div class="question-title">ÌèâÏÜå Î∞§Í∏∏ ÎèåÏïÑÎã§ÎãàÎäî Í≤ÉÏù¥ Î¨¥ÏÑ≠Îã§</div>
                <div class="radio-buttons">
                  <label class="radio-button">
                    <input type="radio" name="society3" value="1" />
                    <span class="radio-button__checkmark"></span>
                  </label>
                  <label class="radio-button">
                    <input type="radio" name="society3" value="2" />
                    <span class="radio-button__checkmark"></span>
                  </label>
                  <label class="radio-button">
                    <input type="radio" name="society3" value="3" />
                    <span class="radio-button__checkmark"></span>
                  </label>
                  <label class="radio-button">
                    <input type="radio" name="society3" value="4" />
                    <span class="radio-button__checkmark"></span>
                  </label>
                  <label class="radio-button">
                    <input type="radio" name="society3" value="5" />
                    <span class="radio-button__checkmark"></span>
                  </label>
                </div>
              </div>
              <input id="submit" class="hidden" type="submit" value="Ï†úÏ∂ú" />
            </div>
            <!-- ÏÇ¨Ìöå Ïπ¥ÌÖåÍ≥†Î¶¨ ÏûÖÎ†• ÎÅù -->
          </div>
          <!-- Ïπ¥ÌÖåÍ≥†Î¶¨ ÏßàÎ¨∏ ÎÅù -->
        </div>
        <!-- Ïπ¥ÌÖåÍ≥†Î¶¨ ÏßàÎ¨∏ÏßÄ ÎÅù -->
      </div>
    </form>
  </body>

  <script>
    function showCategory(category) {
      var categories = ['traffic', 'education', 'nature', 'shopping', 'society'];
      categories.forEach((cat) => {
        var element = document.getElementById(cat);
        if (cat === category) {
          element.style.animationName = 'fadeIn';
          setTimeout(() => element.classList.remove('hidden'), 500);
        } else {
          element.style.animationName = 'fadeOut';
          setTimeout(() => element.classList.add('hidden'), 500);
        }
      });

      var initialMessage = document.querySelector('.initial-message');
      if (initialMessage) {
        initialMessage.style.display = 'none';
      }

      checkAnswers(category);
    }

    function checkAnswers(category) {
      var inputs = document.querySelectorAll('#' + category + ' input[type="radio"]');
      inputs.forEach((input) => {
        input.addEventListener('change', function () {
          if (this.checked) {
            checkAllInCategory(category);
          }
        });
      });
    }

    function checkAllInCategory(category) {
      var inputs = document.querySelectorAll('#' + category + ' input[type="radio"]');
      var uniqueNames = [...new Set(Array.from(inputs).map((input) => input.name))];
      var checkedInputs = Array.from(inputs).filter((input) => input.checked);
      var checkedNames = [...new Set(checkedInputs.map((input) => input.name))];

      if (uniqueNames.length === checkedNames.length) {
        document.querySelector(
          'button[onclick="showCategory(\'' + category + '\')"]'
        ).disabled = true;
        console.log('Í∞ÄÏ§ëÏπò ÏûÖÎ†• ÏôÑÎ£å !');
        checkAllAnswered();
      }
    }

    function checkAllAnswered() {
      var buttons = document.querySelectorAll('button[type="button"]');
      var allButtonsDisabled = true;

      buttons.forEach((button) => {
        if (!button.disabled) {
          allButtonsDisabled = false;
        }
      });

      if (allButtonsDisabled) {
        document.querySelectorAll('#submit').forEach((submitBtn) => {
          submitBtn.style.display = 'block';
        });
        console.log('Ï†úÏ∂ú Î≤ÑÌäº ÌôúÏÑ±Ìôî !');
      }
    }
  </script>
</html>
